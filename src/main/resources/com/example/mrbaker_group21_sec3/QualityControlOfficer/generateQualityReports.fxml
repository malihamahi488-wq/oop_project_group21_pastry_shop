<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.com_oop_project_group21_pastryshop.QualityControlOfficer.GenerateQualityReportsController"
            prefHeight="500.0" prefWidth="900.0">

    <children>
        <VBox spacing="10.0" padding="10.0"
              AnchorPane.topAnchor="0.0"
              AnchorPane.leftAnchor="0.0"
              AnchorPane.rightAnchor="0.0"
              AnchorPane.bottomAnchor="0.0">

            <!-- Header -->
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="Generate Quality Reports"
                       style="-fx-font-size:18px; -fx-font-weight:bold;"/>
                <Label text="Officer ID:"/>
                <Label fx:id="lblOfficerId" text="-" />
                <Pane HBox.hgrow="ALWAYS"/>
                <Button text="Reset Filters" onAction="#onResetFilters"/>
            </HBox>

            <!-- Filters (event-2 & event-3) -->
            <TitledPane text="Report Filters" expanded="true">
                <content>
                    <GridPane hgap="10.0" vgap="8.0" padding="10.0">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="30"/>
                            <ColumnConstraints percentWidth="70"/>
                        </columnConstraints>

                        <children>
                            <Label text="Date From:"
                                   GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                            <DatePicker fx:id="dpFrom"
                                        GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                            <Label text="Date To:"
                                   GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                            <DatePicker fx:id="dpTo"
                                        GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                            <Label text="Product Type:"
                                   GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                            <ComboBox fx:id="cbProductType"
                                      promptText="Select or leave as All"
                                      GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                            <Button text="Generate Report"
                                    onAction="#onGenerateReport"
                                    GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                        </children>
                    </GridPane>
                </content>
            </TitledPane>

            <!-- Report result (event-5) -->
            <TitledPane text="Report Summary" expanded="true">
                <content>
                    <VBox spacing="8.0" padding="10.0">
                        <Label fx:id="lblReportInfo" text="No report generated yet."/>
                        <TableView fx:id="tblReport" prefHeight="200.0">
                            <columns>
                                <TableColumn fx:id="colMetric" text="Metric" prefWidth="200.0"/>
                                <TableColumn fx:id="colValue" text="Value" prefWidth="200.0"/>
                            </columns>
                        </TableView>

                        <HBox spacing="10.0" alignment="CENTER_LEFT">
                            <Button text="Download Report" onAction="#onDownloadReport"/>
                        </HBox>
                    </VBox>
                </content>
            </TitledPane>

            <!-- Status bar -->
            <Label fx:id="lblStatus" text="Ready"/>

        </VBox>
    </children>
</AnchorPane>
